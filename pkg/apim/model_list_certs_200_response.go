/*
Tyk Gateway API

The Tyk Gateway API is the primary means for integrating your application with the Tyk API Gateway system. This API is very small, and has no granular permissions system. It is intended to be used purely for internal automation and integration.  **Warning: Under no circumstances should outside parties be granted access to this API.**  The Tyk Gateway API is capable of:  * Managing session objects (key generation). * Managing and listing policies. * Managing and listing API Definitions (only when not using the Tyk Dashboard). * Hot reloads / reloading a cluster configuration. * OAuth client creation (only when not using the Tyk Dashboard).  In order to use the Gateway API, you'll need to set the **secret** parameter in your tyk.conf file.  The shared secret you set should then be sent along as a header with each Gateway API Request in order for it to be successful:  **x-tyk-authorization: <your-secret>*** <br/>  <b>The Tyk Gateway API is subsumed by the Tyk Dashboard API in Pro installations.</b>

API version: 5.7.1
Contact: support@tyk.io
*/

// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.

package apim

import (
	"encoding/json"
	"fmt"
	"gopkg.in/validator.v2"
)

// ListCerts200Response - struct for ListCerts200Response
type ListCerts200Response struct {
	APIAllCertificateBasics *APIAllCertificateBasics
	APIAllCertificates      *APIAllCertificates
}

// APIAllCertificateBasicsAsListCerts200Response is a convenience function that returns APIAllCertificateBasics wrapped in ListCerts200Response
func APIAllCertificateBasicsAsListCerts200Response(v *APIAllCertificateBasics) ListCerts200Response {
	return ListCerts200Response{
		APIAllCertificateBasics: v,
	}
}

// APIAllCertificatesAsListCerts200Response is a convenience function that returns APIAllCertificates wrapped in ListCerts200Response
func APIAllCertificatesAsListCerts200Response(v *APIAllCertificates) ListCerts200Response {
	return ListCerts200Response{
		APIAllCertificates: v,
	}
}

// Unmarshal JSON data into one of the pointers in the struct
func (dst *ListCerts200Response) UnmarshalJSON(data []byte) error {
	var err error
	match := 0
	// try to unmarshal data into APIAllCertificateBasics
	err = newStrictDecoder(data).Decode(&dst.APIAllCertificateBasics)
	if err == nil {
		jsonAPIAllCertificateBasics, _ := json.Marshal(dst.APIAllCertificateBasics)
		if string(jsonAPIAllCertificateBasics) == "{}" { // empty struct
			dst.APIAllCertificateBasics = nil
		} else {
			if err = validator.Validate(dst.APIAllCertificateBasics); err != nil {
				dst.APIAllCertificateBasics = nil
			} else {
				match++
			}
		}
	} else {
		dst.APIAllCertificateBasics = nil
	}

	// try to unmarshal data into APIAllCertificates
	err = newStrictDecoder(data).Decode(&dst.APIAllCertificates)
	if err == nil {
		jsonAPIAllCertificates, _ := json.Marshal(dst.APIAllCertificates)
		if string(jsonAPIAllCertificates) == "{}" { // empty struct
			dst.APIAllCertificates = nil
		} else {
			if err = validator.Validate(dst.APIAllCertificates); err != nil {
				dst.APIAllCertificates = nil
			} else {
				match++
			}
		}
	} else {
		dst.APIAllCertificates = nil
	}

	if match > 1 { // more than 1 match
		// reset to nil
		dst.APIAllCertificateBasics = nil
		dst.APIAllCertificates = nil

		return fmt.Errorf("data matches more than one schema in oneOf(ListCerts200Response)")
	} else if match == 1 {
		return nil // exactly one match
	} else { // no match
		return fmt.Errorf("data failed to match schemas in oneOf(ListCerts200Response)")
	}
}

// Marshal data from the first non-nil pointers in the struct to JSON
func (src ListCerts200Response) MarshalJSON() ([]byte, error) {
	if src.APIAllCertificateBasics != nil {
		return json.Marshal(&src.APIAllCertificateBasics)
	}

	if src.APIAllCertificates != nil {
		return json.Marshal(&src.APIAllCertificates)
	}

	return nil, nil // no data in oneOf schemas
}

// Get the actual instance
func (obj *ListCerts200Response) GetActualInstance() interface{} {
	if obj == nil {
		return nil
	}
	if obj.APIAllCertificateBasics != nil {
		return obj.APIAllCertificateBasics
	}

	if obj.APIAllCertificates != nil {
		return obj.APIAllCertificates
	}

	// all schemas are nil
	return nil
}

type NullableListCerts200Response struct {
	value *ListCerts200Response
	isSet bool
}

func (v NullableListCerts200Response) Get() *ListCerts200Response {
	return v.value
}

func (v *NullableListCerts200Response) Set(val *ListCerts200Response) {
	v.value = val
	v.isSet = true
}

func (v NullableListCerts200Response) IsSet() bool {
	return v.isSet
}

func (v *NullableListCerts200Response) Unset() {
	v.value = nil
	v.isSet = false
}

func NewNullableListCerts200Response(val *ListCerts200Response) *NullableListCerts200Response {
	return &NullableListCerts200Response{value: val, isSet: true}
}

func (v NullableListCerts200Response) MarshalJSON() ([]byte, error) {
	return json.Marshal(v.value)
}

func (v *NullableListCerts200Response) UnmarshalJSON(src []byte) error {
	v.isSet = true
	return json.Unmarshal(src, &v.value)
}
